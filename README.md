Terraform module for Kubernetes Deployment
==========================================

Terraform module used to easily create a deployment with singe container. With simple syntax.

## Usage

```terraform
module "deploy" {
  source        = "../"
  name          = "jenkins"
  namespace     = "ci-cd"
  image         = "jenkins/jenkins:latest"
  internal_port = [
    {
      name          = "web-access"
      internal_port = "8080"
      host_port     = "80"
    },
    {
      name          = "another"
      internal_port = "8090"
    }
  ]

  readiness_probe = {
    http_get = {
      path   = "/health"
      port   = 8080
      scheme = "HTTP"
    }
    success_threshold     = 1
    failure_threshold     = 3
    initial_delay_seconds = 10
    period_seconds        = 30
    timeout_seconds       = 3
  }
}
```

## Terraform Requirements

| Name | Version |
|------|---------|
| terraform | >= 0.14.8 |
| kubernetes | >= 2.1.0 |

## Inputs

| Name | Description | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Default | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Required |
|------|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------:|
| name  | Name of the deployment | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a | `application`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | yes |
| namespace | Namespace in which create the deployment | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `default` | `default`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | no |
| custom\_labels | Add custom label to pods | `object`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `{ app = var.name }` | `{ mylabel = "apps" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | no |
| image | Docker image name | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a | `ubuntu:18.04`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | yes |
| image\_pull_policy | One of Always, Never, IfNotPresent | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `IfNotPresent` | `Always`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | no |
| args | Arguments to the entrypoint | `list(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | n/a | `["--dev", "--nodaemon"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | no |
| command | Change entrypoint array | `list(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | n/a | `["/bin/bash", "-c", "pwd"]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | no |
| min\_ready\_seconds | Field that specifies the minimum number of seconds for which a newly created Pod should be ready without any of its containers crashing, for it to be considered available | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `null` | `2`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | no |
| replicas  | Count of pods | `number`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `1` | `5`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | no |
| strategy\_update  | Type of deployment. Can be 'Recreate' or 'RollingUpdate' | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `RollingUpdate` | `Recreate`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | no |
| rolling\_update  | Rolling update config params. Present only if strategy_update = RollingUpdate | `object({ max_surge = string, max_unavailable = string })`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a | <pre>{<br>  max_surge       = "25%"<br>  max_unavailable = "25%"<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | no |
| service_account\_name | Is the name of the ServiceAccount to use to run this pod | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `null` | `application-sa`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | no |
| service_accoun_token | Indicates whether a service account token should be automatically mounted | `bool`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | `null` | `true`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | no |
| restart\_policy | Restart policy for all containers within the pod. One of Always, OnFailure, Never | `string`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `Always` | `OnFailure`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | no |
| image\_pull\_secrets | Specify image pull secrets | `map(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `null` | `{ "some-key" = "my-secret" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | no |
| node\_selector | Specify node selector for pod | `map(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | `null` | `{ "some-key" = "true" }`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | no |
| env | Name and value pairs to set in the container's environment | `map(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | n/a | <pre>\{<br>    PORT = "80"<br>    ADDRESS = "0.0.0.0"<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | no |
| env\_field | Get field from k8s and add as environment variables to pods | `map(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | n/a | <pre>\{<br>    NodeName = "spec.nodeName"<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | no |
| env\_secret | Get secret keys from k8s and add as environment variables to pods | `map(string)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | n/a | <pre>\{<br>    # Search key in secret as environment name<br>    admin_pass = kubernetes.secret.my.id<br> <br>    # Pass secret-name & secret key manually<br>    DbPass = {<br>      name = "kubernetes-secret-name"<br>      key  = "secret-key"<br>    }<br>}<br></pre>                                                                                                                                                                                                                                                                                       | no |
| resources | Compute Resources required by this container. CPU/RAM requests/limits | <pre>object({<br>    request_cpu    = string - (Optional)<br>    request_memory = string - (Optional)<br>    limit_cpu      = string - (Optional)<br>    limit_memory   = string - (Optional)<br>  })</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                          | n/a | <pre>  {<br>    request_cpu    = "100m"<br>    request_memory = "800Mi"<br>    limit_cpu      = "120m"<br>    limit_memory   = "900Mi"<br>  }<br></pre>                                                                                                                                                                                                                                                                                                                                                                                                          | no || internal\_port | List of ports to expose from the container | <pre>list(object({<br>    internal_port = number<br>    name          = string<br>    host_port     = number - (Optional)<br>  }))</pre> | n/a | <pre>\[<br>  {<br>    internal_port = 8080<br>    name          = web<br>    host_port     = 80 - (Optional)<br>  }<br>]</pre> | no |
| toleration | Pod node tolerations | <pre>list(object({<br>    effect             = string // (Optional)<br>    key                = string // (Optional)<br>    operator           = string // (Optional)<br>    toleration_seconds = number // (Optional)<br>    value              = string // (Optional)<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                               | n/a | <pre>[<br>  {<br>    effect             = "NoSchedule"<br>    key                = "gpu"<br>    operator           = "Equal"<br>    value              = "true"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                | no |
| hosts | Add /etc/hosts records to pods | <pre>list(object({<br>    hostname       = string<br>    ip             = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | n/a | <pre>\[<br>  {<br>    hostname       = "mysite.com"<br>    ip             = "10.10.1.20"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                       | no |
| volume\_mount | Mount path from pods to volume | <pre>list(object({<br>    mount_path  = string<br>    volume_name = string<br>    sub_path    = string - (Optional)<br>    read_only   = bool   - (Optional)<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | n/a | <pre>\[<br>  {<br>    mount_path  = "/mnt"<br>    volume_name = "node"<br>    sub_path    = "app"<br>    read_only   = false<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                   | no |
| volume\_nfs | Represents an NFS mounts on the host | <pre>list(object({<br>    path_on_nfs  = string<br>    nfs_endpoint = string<br>    volume_name  = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a | <pre>\[<br>  {<br>    path_on_nfs    = "/"<br>    nfs_endpoint   = "10.10.0.100"<br>    volume_name    = "share"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                               | no |
| volume\_host\_path | Represents a directory from node on the host | <pre>list(object({<br>    path_on_node = string<br>    type         = string - (Optional)<br>    volume_name  = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | n/a | <pre>\[<br>  {<br>    path_on_node   = "/home/ubuntu"<br>    type           = "Directory"<br>    volume_name    = "node"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                       | no |
| volume\_config\_map | The data stored in a ConfigMap object can be referenced in a volume of type configMap and then consumed by containerized applications running in a Pod | <pre>list(object({<br>    mode         = string<br>    name         = string<br>    volume_name  = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | n/a | <pre>\[<br>  {<br>    mode           = "0777"<br>    name           = "config-map"<br>    volume_name    = "config-volume"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                     | no |
| volume\_aws\_disk | Represents an AWS Disk resource that is attached to a kubelet's host machine and then exposed to the pod | <pre>list(object({<br>    volume_id    = string<br>    fs_type      = string - (Optional)<br>    partition    = string - (Optional)<br>    read_only    = string - (Optional)<br>    volume_name  = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                            | n/a | <pre>\[<br>  {<br>    volume_id    = "vol-123124123"<br>    volume_name  = "disk"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                              | no |
| volume\_gce\_disk | Represents an GCE Disk resource that is attached to a kubelet's host machine and then exposed to the pod | <pre>list(object({<br>    volume_name  = string<br>    fs_type      = string - (Optional)<br>    partition    = string - (Optional)<br>    read_only    = string - (Optional)<br>    gce_disk     = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                            | n/a | <pre>\[<br>  {<br>    volume_name  = "google-disk-my"<br>    gce_disk     = "disk"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                             | no |
| volume\_empty\_dir | EmptyDir represents a temporary directory that shares a pod's lifetime | <pre>list(object({<br>    volume_name  = string<br>  }))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | n/a | <pre>\[<br>  {<br>    volume_name  = "empty-dir"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | no |
| volume\_claim | Represents an Persistent volume Claim resource that is attached to a kubelet's host machine and then exposed to the pod | <pre>list(object({<br>    volume_name = string<br>    claim_name  = string - (Optional)<br>    read_only   = string - (Optional)<br>}))</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | n/a | <pre>\[<br>  {<br>    volume_name = "data-disk"<br>    claim_name  = "claim-name-disk"<br>  }<br>]</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                         | no |
| readiness\_probe | Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails.  | <pre>object({<br>    success_threshold     = number<br>    failure_threshold     = number<br>    initial_delay_seconds = number <br>    period_seconds        = number <br>    timeout_seconds       = number <br><br>    http_get = {<br>      http_header = list(object(    // (Optional)<br>        {<br>          name =  string<br>          value = string<br>        }<br>      )<br>      path   = string<br>      port   = number<br>      scheme = string<br>    } <br>    exec = {            // (Optional)<br>      command =list(string)<br>    }<br>    tcp_socket = {      // (Optional)<br>      port = number<br>    }<br> })</pre> | n/a | <pre>{<br>    success_threshold     = 1<br>    failure_threshold     = 3<br>    initial_delay_seconds = 10 <br>    period_seconds        = 30 <br>    timeout_seconds       = 10 <br><br>    http_get = {<br>      http_header = [<br>        {<br>          name =  "some-header"<br>          value = "some-value"<br>        }<br>      ]<br>      path   = "/"<br>      port   = 80<br>      scheme = "HTTP"<br>    } <br>    exec = {<br>      command = ["/bin/bash", "command"]<br>    }<br>    tcp_socket = {<br>      port = 5433<br>    }<br> })</pre> | no |
| liveness\_probe | Periodic probe of container liveness. Container will be restarted if the probe fails | same as on readiness_probe                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | n/a | same as on readiness_probe                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | no |
| lifecycle\_events | Actions that the management system should take in response to container lifecycle events | <pre>object({<br>    pre_stop = {  // (Optional) <br>      same as on readiness_probe<br>    }    <br><br>    post_start = {  // (Optional) <br>      same as on readiness_probe<br>    }<br>})</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                | n/a | <pre>{<br>    pre_stop = {  // (Optional) <br>      same as on readiness_probe<br>    }    <br><br>    post_start = {  // (Optional) <br>      same as on readiness_probe<br>    }<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                    | no |
## Outputs
| Name | Description |
|------|:-----------:|
| name | Name of the deployment |
| namespace | Namespace in which created the deployment |
<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 0.14.8 |
| <a name="requirement_kubernetes"></a> [kubernetes](#requirement\_kubernetes) | >= 2.1.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_kubernetes"></a> [kubernetes](#provider\_kubernetes) | 2.11.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [kubernetes_deployment.deploy_app](https://registry.terraform.io/providers/hashicorp/kubernetes/latest/docs/resources/deployment) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_args"></a> [args](#input\_args) | (Optional) Arguments to the entrypoint | `list(string)` | `[]` | no |
| <a name="input_cluster_ca_certificate"></a> [cluster\_ca\_certificate](#input\_cluster\_ca\_certificate) | The root certificates bundle for TLS authentication | `string` | `""` | no |
| <a name="input_cluster_endpoint"></a> [cluster\_endpoint](#input\_cluster\_endpoint) | The hostname (in form of URI) of the Kubernetes API | `string` | `""` | no |
| <a name="input_cluster_token"></a> [cluster\_token](#input\_cluster\_token) | Token of the cluster to authen | `string` | `""` | no |
| <a name="input_command"></a> [command](#input\_command) | (Optional) Entrypoint array. Not executed within a shell | `list(string)` | `[]` | no |
| <a name="input_custom_labels"></a> [custom\_labels](#input\_custom\_labels) | (Optional) Add custom label to pods | `map(string)` | `null` | no |
| <a name="input_deployment_annotations"></a> [deployment\_annotations](#input\_deployment\_annotations) | Annotations for deployment | `map(string)` | `null` | no |
| <a name="input_env"></a> [env](#input\_env) | (Optional) Name and value pairs to set in the container's environment | `map(string)` | `{}` | no |
| <a name="input_env_field"></a> [env\_field](#input\_env\_field) | (Optional) Get field from k8s and add as environment variables to pods | `map(string)` | `{}` | no |
| <a name="input_env_secret"></a> [env\_secret](#input\_env\_secret) | (Optional) Get secret keys from k8s and add as environment variables to pods | `map` | `{}` | no |
| <a name="input_exec_plugins"></a> [exec\_plugins](#input\_exec\_plugins) | The Configuration block to use an exec-based credential plugin | `map(any)` | `{}` | no |
| <a name="input_hosts"></a> [hosts](#input\_hosts) | (Optional) Add /etc/hosts records to pods | `list(object({ hostname = list(string), ip = string }))` | `[]` | no |
| <a name="input_image"></a> [image](#input\_image) | (Required) Docker image name | `string` | n/a | yes |
| <a name="input_image_pull_policy"></a> [image\_pull\_policy](#input\_image\_pull\_policy) | One of Always, Never, IfNotPresent | `string` | `"IfNotPresent"` | no |
| <a name="input_image_pull_secrets"></a> [image\_pull\_secrets](#input\_image\_pull\_secrets) | (Optional) Specify list of pull secrets | `map(string)` | `null` | no |
| <a name="input_internal_port"></a> [internal\_port](#input\_internal\_port) | (Optional) List of ports to expose from the container | `list` | `[]` | no |
| <a name="input_kubectl_config_context_name"></a> [kubectl\_config\_context\_name](#input\_kubectl\_config\_context\_name) | The config context to use when authenticating to the Kubernetes cluster. If empty, defaults to the current context specified in the kubeconfig file. | `string` | `""` | no |
| <a name="input_kubectl_config_path"></a> [kubectl\_config\_path](#input\_kubectl\_config\_path) | The path to the config file to use for kubectl. If empty, defaults to $HOME/.kube/config | `string` | `""` | no |
| <a name="input_lifecycle_events"></a> [lifecycle\_events](#input\_lifecycle\_events) | (Optional) Actions that the management system should take in response to container lifecycle events | `list` | `[]` | no |
| <a name="input_liveness_probe"></a> [liveness\_probe](#input\_liveness\_probe) | (Optional) Periodic probe of container liveness. Container will be restarted if the probe fails. Cannot be updated. | `list` | `[]` | no |
| <a name="input_min_ready_seconds"></a> [min\_ready\_seconds](#input\_min\_ready\_seconds) | (Optional) Field that specifies the minimum number of seconds for which a newly created Pod should be ready without any of its containers crashing, for it to be considered available | `number` | `null` | no |
| <a name="input_name"></a> [name](#input\_name) | (Required) Name of the deployment | `string` | n/a | yes |
| <a name="input_namespace"></a> [namespace](#input\_namespace) | (Optional) Namespace in which to create the deployment | `string` | `"default"` | no |
| <a name="input_node_selector"></a> [node\_selector](#input\_node\_selector) | (Optional) Specify node selector for pod | `map(string)` | `null` | no |
| <a name="input_prevent_deploy_on_the_same_node"></a> [prevent\_deploy\_on\_the\_same\_node](#input\_prevent\_deploy\_on\_the\_same\_node) | Pod pod\_anti\_affinity rule, which prevents deploy same pod on one node. | `bool` | `false` | no |
| <a name="input_readiness_probe"></a> [readiness\_probe](#input\_readiness\_probe) | (Optional) Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails. Cannot be updated. | `list` | `[]` | no |
| <a name="input_replicas"></a> [replicas](#input\_replicas) | (Optional) Count of pods | `number` | `1` | no |
| <a name="input_resources"></a> [resources](#input\_resources) | (Optional) Compute Resources required by this container. CPU/RAM requests/limits | `map` | `{}` | no |
| <a name="input_restart_policy"></a> [restart\_policy](#input\_restart\_policy) | Restart policy for all containers within the pod. One of Always, OnFailure, Never | `string` | `"Always"` | no |
| <a name="input_rolling_update"></a> [rolling\_update](#input\_rolling\_update) | Rolling update config params. Present only if strategy\_update = RollingUpdate | `list` | `[]` | no |
| <a name="input_security_context"></a> [security\_context](#input\_security\_context) | (Optional) SecurityContext holds pod-level security attributes and common container settings | `list` | `[]` | no |
| <a name="input_security_context_capabilities"></a> [security\_context\_capabilities](#input\_security\_context\_capabilities) | (Optional) Security context in pod. Only capabilities. | `list` | `[]` | no |
| <a name="input_security_context_container"></a> [security\_context\_container](#input\_security\_context\_container) | (Optional) Security context in pod. | `list` | `[]` | no |
| <a name="input_service_account_name"></a> [service\_account\_name](#input\_service\_account\_name) | (Optional) Is the name of the ServiceAccount to use to run this pod | `string` | `null` | no |
| <a name="input_service_account_token"></a> [service\_account\_token](#input\_service\_account\_token) | Indicates whether a service account token should be automatically mounted | `bool` | `null` | no |
| <a name="input_strategy_update"></a> [strategy\_update](#input\_strategy\_update) | (Optional) Type of deployment. Can be 'Recreate' or 'RollingUpdate' | `string` | `"RollingUpdate"` | no |
| <a name="input_template_annotations"></a> [template\_annotations](#input\_template\_annotations) | Annotations for pod (template) | `map(string)` | `null` | no |
| <a name="input_termination_grace_period_seconds"></a> [termination\_grace\_period\_seconds](#input\_termination\_grace\_period\_seconds) | Duration in seconds the pod needs to terminate gracefully | `number` | `null` | no |
| <a name="input_toleration"></a> [toleration](#input\_toleration) | (Optional) Pod node tolerations | `list` | `[]` | no |
| <a name="input_tty"></a> [tty](#input\_tty) | Whether this container should allocate a TTY for itself | `bool` | `true` | no |
| <a name="input_volume_aws_disk"></a> [volume\_aws\_disk](#input\_volume\_aws\_disk) | (Optional) Represents an AWS Disk resource that is attached to a kubelet's host machine and then exposed to the pod | `list` | `[]` | no |
| <a name="input_volume_claim"></a> [volume\_claim](#input\_volume\_claim) | (Optional) Represents an Persistent volume Claim resource that is attached to a kubelet's host machine and then exposed to the pod | `list` | `[]` | no |
| <a name="input_volume_config_map"></a> [volume\_config\_map](#input\_volume\_config\_map) | (Optional) The data stored in a ConfigMap object can be referenced in a volume of type configMap and then consumed by containerized applications running in a Pod | `list(object({ mode = string, name = string, volume_name = string }))` | `[]` | no |
| <a name="input_volume_empty_dir"></a> [volume\_empty\_dir](#input\_volume\_empty\_dir) | n/a | `list(object({ volume_name = string }))` | `[]` | no |
| <a name="input_volume_gce_disk"></a> [volume\_gce\_disk](#input\_volume\_gce\_disk) | (Optional) Represents an GCE Disk resource that is attached to a kubelet's host machine and then exposed to the pod | `list` | `[]` | no |
| <a name="input_volume_host_path"></a> [volume\_host\_path](#input\_volume\_host\_path) | (Optional) Represents a directory from node on the host | `list` | `[]` | no |
| <a name="input_volume_mount"></a> [volume\_mount](#input\_volume\_mount) | (Optional) Mount path from pods to volume | `list` | `[]` | no |
| <a name="input_volume_nfs"></a> [volume\_nfs](#input\_volume\_nfs) | (Optional) Represents an NFS mounts on the host | `list(object({ path_on_nfs = string, nfs_endpoint = string, volume_name = string }))` | `[]` | no |
| <a name="input_volume_secret"></a> [volume\_secret](#input\_volume\_secret) | (Optional) Create volume from secret | `list` | `[]` | no |
| <a name="input_wait_for_rollout"></a> [wait\_for\_rollout](#input\_wait\_for\_rollout) | n/a | `bool` | `true` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_name"></a> [name](#output\_name) | n/a |
| <a name="output_namespace"></a> [namespace](#output\_namespace) | n/a |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
